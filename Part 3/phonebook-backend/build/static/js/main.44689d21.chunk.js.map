{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/People.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilterChange","onChange","PersonForm","addPerson","handleNameChange","handleNumberChange","onSubmit","type","People","persons","removePerson","map","person","name","number","onClick","id","baseUrl","phoneService","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","Notification","message","includes","className","App","useState","newName","setNewName","newNumber","setNewNumber","showAll","setShowAll","newFilter","setNewFilter","setPersons","notification","setNotification","useEffect","initialPeople","contactsToShow","filter","p","toUpperCase","console","log","search","event","target","value","preventDefault","some","window","confirm","find","personUpdated","setTimeout","catch","error","personObject","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44689d21.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleFilterChange}) => (\r\n    <div>\r\n          Filter: <input onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n\r\n export default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, handleNameChange, handleNumberChange}) => (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      Name: <input onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      Number: <input onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">Add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst People = ({persons, removePerson}) => {\r\n  return(\r\n    <ul>\r\n      {persons.map(person => \r\n        <li key={person.name}>{person.name}'s No: {person.number}<button onClick={() => removePerson(person.id)}>Delete</button></li>\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default People","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst phoneService = { getAll, create, update, remove }\r\n\r\nexport default phoneService","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  else if(message.includes('ERROR')){\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <div className=\"success\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport People from './components/People'\r\nimport phoneService from './services/phonebook'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ newName, setNewName ] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [persons, setPersons] = useState([])\r\n  const [notification, setNotification] = useState(null)\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    phoneService\r\n      .getAll()\r\n      .then(initialPeople => {\r\n        setPersons(initialPeople)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const isFound = persons.some(person => person.name === newName)\r\n\r\n    if(!isFound) {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      }\r\n\r\n       phoneService\r\n        .create(personObject)\r\n        .then(response => {\r\n          console.log(response)\r\n          setPersons(persons.concat(personObject))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotification(\r\n            `${personObject.name} has been added to the server`\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n          })\r\n    }\r\n    else if(window.confirm(`Do you want to change ${newName}'s number?`)) {\r\n      const person = persons.find(person => person.name === newName)\r\n      const personUpdated = {...person, number: newNumber}\r\n      phoneService\r\n        .update(personUpdated.id, personUpdated)\r\n        .then(response => {\r\n          setPersons(persons.map(person => person.id !== personUpdated.id ? person : response))\r\n          setNotification(\r\n            `${personUpdated.name} number has successfully been changed`\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setNotification(\r\n            `ERROR : ${personUpdated.name} was already removed from server`\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(person => person.id !== personUpdated.id))\r\n      })\r\n    }\r\n  }\r\n\r\n  const removePerson = (id) => {\r\n    const search = persons.filter(person => person.id === id)\r\n    const person = search[0]\r\n    if(window.confirm(`Delete ${person.name}?`)) {\r\n      phoneService\r\n        .remove(id)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n         setNotification(\r\n            `${person.name} has successfully been removed from the server`\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n    }\r\n  }\r\n\r\n const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n      if(newFilter === '') {\r\n        setShowAll(showAll)\r\n      }\r\n      else if(showAll){\r\n        setShowAll(!showAll)\r\n      }\r\n    }, [newFilter, showAll]);\r\n\r\n  const contactsToShow = showAll\r\n      ? persons\r\n      : persons.filter(person => {\r\n          const p = person.name.toUpperCase()\r\n          const filter = newFilter.toUpperCase()\r\n          console.log(filter)\r\n          return p.search(filter) !== -1\r\n        })\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={notification} />\r\n\r\n      <Filter handleFilterChange={handleFilterChange} />\r\n\r\n      <PersonForm addPerson={addPerson} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <People persons={contactsToShow} removePerson={removePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}